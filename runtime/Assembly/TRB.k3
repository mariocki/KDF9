V99; W0;
RESTART; J999; J999;
PROGRAM;                   (main program);
   V1 = Q7/AV11/AV12;      (label data for next MT);
   V2 = Q7/AV51/AV52;      (label data as read back);
   V3 = Q7/1/0;            (iterator over MTs);
   V4 = B0277777777777777; (CRLF);
   V5 = Q0/AV4/AV4;
   V6 = B4641515412027777; ('FAIL'CRLF);
   V7 = Q0/AV6/AV6;
   V8 = B5737533702777777; ('O.K.'CRLF);
   V9 = Q0/AV8/AV8;
  V10 = Q10/0/0;        (number of repetitions);

   V10; =Q6;

777;
   V3; =Q3;
   V2; =Q2;
   V1; =Q1;
888;
   PARQ1;
   PMDQ1; (rewind this MT - should be OK at BOT);
   PIAQ1; (read label);
   PIEQ2; (backward read same label);

   (now compare the two results);
   Q1TOQ7; SET-1; =+M7;
   M0M7; M0M2; DUPD; NEV; J999NEZ;
   ERASE; ERASE;
   Q2TOQ7; SET-1; =+M7;
   M0M7; M0M1; DUPD; NEV; J999NEZ;
   ERASE; ERASE;

   (the two reads match);
   PIAQ1; (read label);
   POAQ1; (rewrite second copy of label);

   Q1TOQ4; SET542; =M4;
   POFQ4; (wipe gap after second copy of label);
   PIEQ2; (backward read second copy of label, past long gap);

   Q2TOQ4; ZERO; =M4;
   PMEQ4; (backward skip up to 32768 blocks to BOT);

   Q2TOQ4; SET1; =M4;
   PMAQ4; (skip forward over label);
   PMAQ4; (skip forward over second copy of label);

   (now compare the two results);
   Q1TOQ7; SET-1; =+M7;
   M0M7; M0M2; DUPD; NEV; J999NEZ;
   ERASE; ERASE;
   Q2TOQ7; SET-1; =+M7;
   M0M7; M0M1; DUPD; NEV; J999NEZ;
   ERASE; ERASE;

   (the two reads match, so go on to the next MT unit);
   SET2; DUP; =+I1; =+M1;
   C1; NOT; NEG; =C1;
   SET2; DUP; =+I2; =+M2; C1TOQ2;
   DC3;
   J888C3NZ;

   SET1; =M1;
   DC1;
   PMAQ1; (skip forward past the label on MT7);
   V1; =Q1; SET1; =M1;
   PMAQ1; (skip forward past the label on MT0);

111;
   DC6;
   J777C6NZ;
   V9; =Q8; POAQ8;
   ZERO; OUT;

999;
   ZERO; =Q1; POAQ1;
   ZERO; =Q2; POAQ2;
   V5; =Q8; POAQ8;
   V7; =Q8; POAQ8;
   ZERO; OUT;
   FINISH;
|
