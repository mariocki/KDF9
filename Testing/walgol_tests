trap "rm -f walgol_tests_diff.txt"  \
      0 1 2 3

export WHETSTONE=

>walgol_tests_log.txt

echo TEST walgol FLUID
walgol FLUID     t prh >>walgol_tests_log.txt
fgrep "Digital signature" KDF9_log.txt >>walgol_tests_log.txt

echo TEST walgol GPSPRIMES
walgol GPSPRIMES t prh >>walgol_tests_log.txt
fgrep "Digital signature" KDF9_log.txt >>walgol_tests_log.txt

echo TEST walgol HANOI
walgol HANOI     t prh >>walgol_tests_log.txt
fgrep "Digital signature" KDF9_log.txt >>walgol_tests_log.txt

echo TEST walgol INPUT
walgol INPUT     t prh >>walgol_tests_log.txt
fgrep "Digital signature" KDF9_log.txt >>walgol_tests_log.txt

echo TEST walgol MANORBOY
walgol MANORBOY  t prh >>walgol_tests_log.txt
fgrep "Digital signature" KDF9_log.txt >>walgol_tests_log.txt

echo TEST walgol MATMULT
walgol MATMULT   t prh >>walgol_tests_log.txt
fgrep "Digital signature" KDF9_log.txt >>walgol_tests_log.txt

echo TEST walgol WEEHAAVIE
walgol WEEHAAVIE t prh >>walgol_tests_log.txt
fgrep "Digital signature" KDF9_log.txt >>walgol_tests_log.txt

echo TEST walgol WHETSTONE
walgol WHETSTONE t prh >>walgol_tests_log.txt
fgrep "Digital signature" KDF9_log.txt >>walgol_tests_log.txt

echo TEST walgol
walgol ZELLER    t prh >>walgol_tests_log.txt
fgrep "Digital signature" KDF9_log.txt >>walgol_tests_log.txt

echo
diff walgol_tests_log.txt walgol_tests_good_log.txt >walgol_tests_diff.txt
if [ -s walgol_tests_diff.txt ]
then
   echo These are the unexpected variances for this run:
   echo ===
   more walgol_tests_diff.txt
   echo ===
else
   echo These tests ran as expected.
fi
